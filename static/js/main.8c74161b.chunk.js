(this.webpackJsonpcompanion=this.webpackJsonpcompanion||[]).push([[0],{17:function(e,t,a){},40:function(e,t,a){},42:function(e,t,a){},52:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),c=a.n(s),o=(a(40),a(16)),i=a(14),l=a(7),j=(a(17),a(12)),d=a.n(j),u=a(15),p=(a(42),a(8)),m=a(11),b=a(1);function h(e){var t,a;return Object(b.jsx)(p.a.Group,{className:"mb-2",controlId:null!==(t=e.controlId)&&void 0!==t?t:"formUsername",children:Object(b.jsx)(p.a.Control,{type:"email",placeholder:null!==(a=e.label)&&void 0!==a?a:"Email address"})})}function x(e){var t,a;return Object(b.jsx)(p.a.Group,{className:"mb-2",controlId:null!==(t=e.controlId)&&void 0!==t?t:"formPassword",children:Object(b.jsx)(p.a.Control,{type:"password",placeholder:null!==(a=e.label)&&void 0!==a?a:"Password"})})}function O(e){return Object(b.jsx)(p.a.Group,{className:"mb-2",controlId:e.controlId,children:Object(b.jsx)(p.a.Control,{type:"text",placeholder:e.label})})}var f=function(e){var t=Object(l.f)(),a=Object(n.useState)(!1),r=Object(o.a)(a,2),s=r[0],c=r[1];function i(){return(i=Object(u.a)(d.a.mark((function a(n){var r,o,i,l,j,u,p,m;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),!s){a.next=3;break}return a.abrupt("return");case 3:return c(!0),r=n.target,o=r.elements.formFirstName.value,i=r.elements.formLastName.value,l=r.elements.formUsername.value,j=r.elements.formPassword.value,u={firstName:o,lastName:i,email:l,password:j,logs:[]},a.prev=10,a.next=13,fetch("".concat("https://companion-htv5.herokuapp.com/api/v1","/users"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},reqBody:JSON.stringify(u)});case 13:return p=a.sent,a.next=16,p.json();case 16:m=a.sent,console.dir(m),m.success?(e.setUser(u),t.push("/assess")):window.alert(m.error),a.next=25;break;case 21:a.prev=21,a.t0=a.catch(10),console.log(a.t0),window.alert("Failed to contact server :(");case 25:c(!1);case 26:case"end":return a.stop()}}),a,null,[[10,21]])})))).apply(this,arguments)}return Object(b.jsxs)("div",{className:"reg-container align-center",children:[Object(b.jsx)("h1",{children:"Register"}),Object(b.jsxs)(p.a,{className:"reg width-30",onSubmit:function(e){return i.apply(this,arguments)},children:[Object(b.jsx)(O,{controlId:"formFirstName",label:"First name"}),Object(b.jsx)(O,{controlId:"formLastName",label:"Last name"}),Object(b.jsx)(h,{}),Object(b.jsx)(x,{}),Object(b.jsx)(x,{controlId:"formConfirmPassword",label:"Re-enter password"}),Object(b.jsx)(m.a,{className:"wide",variant:"primary",disabled:s,type:"submit",children:s?"Registering\u2026":"Register"})]}),Object(b.jsx)("div",{className:"login-link-container",children:Object(b.jsx)(m.a,{className:"wide",variant:"primary",onClick:function(){return t.push("/login")},children:"Log into existing account"})})]})};function v(e){var t=Object(l.f)(),a=Object(n.useState)(!1),r=Object(o.a)(a,2),s=r[0],c=r[1];function i(){return(i=Object(u.a)(d.a.mark((function a(n){var r,o,i,l,j,u;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),!s){a.next=3;break}return a.abrupt("return");case 3:return c(!0),r=n.target,o=r.elements.formUsername.value,i=r.elements.formPassword.value,l={email:o,password:i},console.dir(l),a.prev=9,console.log("".concat("https://companion-htv5.herokuapp.com/api/v1","/validate")),a.next=13,fetch("".concat("https://companion-htv5.herokuapp.com/api/v1","/validate"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},reqBody:JSON.stringify(l)});case 13:return j=a.sent,u=void 0,console.dir(u),a.t0=console,a.next=19,j.text();case 19:a.t1=a.sent,a.t0.log.call(a.t0,a.t1),u.success?(e.setUser(u.data),t.push("/assess")):window.alert(u.error),a.next=28;break;case 24:a.prev=24,a.t2=a.catch(9),console.log(a.t2),window.alert("Failed to contact server :(");case 28:c(!0);case 29:case"end":return a.stop()}}),a,null,[[9,24]])})))).apply(this,arguments)}return Object(b.jsxs)("div",{className:"align-center",children:[Object(b.jsx)("h1",{children:"Log in"}),Object(b.jsxs)(p.a,{className:"width-30",onSubmit:function(e){return i.apply(this,arguments)},children:[Object(b.jsx)(h,{}),Object(b.jsx)(x,{}),Object(b.jsx)(m.a,{className:"wide",variant:"primary",disabled:s,type:"submit",children:s?"Logging in\u2026":"Log in"})]})]})}a(52);var g=a(34);function w(){var e=Object(l.f)();return Object(b.jsx)(g.a,{steps:[{style:{transform:"translate(0,-500px)"}},{style:{transform:"translate(0,0)"},duration:800}],children:Object(b.jsxs)("div",{className:"landing-container",children:[Object(b.jsx)("h1",{children:"Companion"}),Object(b.jsx)("h2",{children:"your mindfulness buddy"}),Object(b.jsx)(m.a,{className:"get-started",size:"lg",variant:"primary",onClick:function(){return e.push("/register")},children:"Get Started"})]})})}var N=a(35);function y(e){Object(l.f)();function t(){return(t=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),t.target;case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.jsxs)("div",{className:"align-center",children:[Object(b.jsxs)("h1",{children:["Welcome back, ",e.user.firstName]}),Object(b.jsx)(k,{}),Object(b.jsx)(p.a,{className:"width-30",onSubmit:function(e){return t.apply(this,arguments)},children:Object(b.jsx)(m.a,{className:"wide",variant:"primary",type:"submit",children:"Submit"})})]})}function k(e){return Object(b.jsx)("div",{className:"mood-chooser",children:Object(b.jsx)(S,{children:"\ud83d\ude04"})})}function S(e){return Object(b.jsx)("button",Object(N.a)({className:"btn mood-button"},e))}var I=function(){var e=Object(n.useState)({email:"demo@demo.user",firstName:"Demo",lastName:"User",password:"password",logs:[]}),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(i.a,{children:Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{exact:!0,path:"/",children:Object(b.jsx)(w,{})}),Object(b.jsx)(l.a,{exact:!0,path:"/login",children:Object(b.jsx)(v,{setUser:r})}),Object(b.jsx)(l.a,{exact:!0,path:"/register",children:Object(b.jsx)(f,{setUser:r})}),Object(b.jsx)(l.a,{exact:!0,path:"/assess",children:Object(b.jsx)(y,{user:a})})]})})})};c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(I,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.8c74161b.chunk.js.map